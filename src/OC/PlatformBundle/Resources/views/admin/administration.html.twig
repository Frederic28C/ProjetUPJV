{% extends "::layout.html.twig" %}

{% block title %}
    Administration - {{ parent() }}
{% endblock %}

{% block menu %}
    {% include "OCPlatformBundle::menuAdmin2.html.twig" %}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}

    <div class="row form-admin">
        <div class="col-md-4 col-md-offset-4 ">
            <h3>Réservé aux administrateurs</h3>
        </div>
        <div class="well col-md-4 col-md-offset-4">


            {{ form_start(form, {'attr': {'class': 'form-horizontal'}}, {'action': { 'path' : 'login_check' }}) }}

             {#Les erreurs générales du formulaire. #}
            {{ form_errors(form) }}

             {#Génération du label + error + widget pour un champ. #}
             {#Génération manuelle et éclatée : #}
            <div class="form-group">
                 {#Génération du label. #}
                {{ form_label(form.Compte, "Nom de compte", {'label_attr': {'class': 'col-md-5 control-label'}}) }}

                <div class="col-md-7">
                     {#Génération de l'input. #}
                    {{ form_widget(form.Compte, {'attr': {'class': 'form-control'}}) }}
                </div>

                 {#Affichage des erreurs pour ce champ précis. #}
                {{ form_errors(form.Compte) }}
            </div>

            <div class="form-group">
                 {#Génération du label. #}
                {{ form_label(form.Passe, "Mot de passe", {'label_attr': {'class': 'col-md-5 control-label'}}) }}

                <div class="col-md-7">
                     {#Génération de l'input. #}
                    {{ form_widget(form.Passe, {'attr': {'class': 'form-control'}}) }}
                </div>

                 {#Affichage des erreurs pour ce champ précis. #}
                {{ form_errors(form.Passe) }}
            </div>

             {#Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
            {{ form_widget(form.Connexion, {'attr': {'class': 'btn btn-primary login'}}) }}

             {#Génération automatique des champs pas encore écrits.#}
               {#Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)#}
               {#et tous les champs cachés (type « hidden »). #}
            {{ form_rest(form) }}

             {#Fermeture de la balise <form> du formulaire HTML #}
            {{ form_end(form) }}

            {#<form action="{{ path('login_check') }}" method="post">#}
                {#<label for="username">Login :</label>#}
                {#<input type="text" id="username" name="_username" value="{{ last_username }}" />#}

                {#<label for="password">Mot de passe :</label>#}
                {#<input type="password" id="password" name="_password" />#}
                {#<br />#}
                {#<input type="submit" value="Connexion" />#}
            {#</form>#}

        </div>



    </div>

    <script>
        $('li a').click(function(e) {
            e.preventDefault();
            $('a').removeClass('active');
            $(this).addClass('active');
        });
    </script>

{% endblock %}